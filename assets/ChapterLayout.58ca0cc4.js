import{Q}from"./QIcon.ac005315.js";import{u as C,Q as R,a as M,b as O,c as T,d as I,e as L}from"./use-meta.3f8de876.js";import{Q as l}from"./QBtn.c248b476.js";import{Q as d}from"./QItem.624de6a8.js";import{Q as A}from"./QPageSticky.15c3cd3b.js";import{a as c}from"./QItemLabel.f084a15e.js";import{Q as g}from"./QToggle.6707944d.js";import{Q as z}from"./QSelect.1bc758f5.js";import{R as w}from"./Ripple.5f8954d8.js";import{c as P}from"./readerSettings.551b0ef9.js";import{f as q,_ as D,a7 as B,j as s,y as F,D as S,k as i,m as o,n as t,q as k,F as j,r as v,u as $,s as y,v as U,t as W,p as b,x as h}from"./index.b35b6c87.js";import"./QSpinner.cedf2831.js";import"./use-dark.1516cb7d.js";import"./QResizeObserver.90150d42.js";import"./use-timeout.4812ac2b.js";import"./scroll.fbb25234.js";import"./dom.4a68f118.js";import"./TouchPan.e5cef90e.js";import"./selection.01e1b310.js";import"./format.2a3572e1.js";import"./QScrollObserver.25b184ae.js";import"./use-checkbox.679430af.js";import"./option-sizes.72a65bda.js";import"./use-form.d75ed6a7.js";import"./use-key-composition.a9714931.js";import"./uid.42677368.js";import"./focus-manager.32f8d49a.js";import"./QMenu.62948ea2.js";import"./position-engine.0d3d3347.js";import"./QDialog.476c5919.js";import"./use-transition.6c02567b.js";import"./use-virtual-scroll.ef29f78d.js";import"./rtl.b51694b1.js";import"./fetcher.f8235356.js";const N=q({name:"readerDrawerCont",created:function(){this.$watch("SReadModel",e=>{this.options.setRM(e)}),this.$watch("SreadMargins",e=>{this.options.setWT(e)}),this.$watch("SreadScale",e=>{this.options.setScale(e)}),this.$watch("sReadOffset",e=>{this.options.setOffset(e)})},setup(){const e=B(),a=P(parseInt(`${e.params.mangaID}`)),m=a.vue_RM,p=a.vue_WT,u=a.vue_Scale,f=a.vue_Offset;return{SreadMargins:p,SreadScale:u,SReadModel:m,SReadoptions:["RTL","LTR","SinglePage","Vertical"],sReadOffset:f,options:a}}});function E(e,a,m,p,u,f){return s(),F(j,null,[S((s(),i(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:a[1]||(a[1]=r=>e.SreadMargins=!e.SreadMargins)},{default:o(()=>[t(c,null,{default:o(()=>[k("Page Margins")]),_:1}),t(g,{color:"blue",modelValue:e.SreadMargins,"onUpdate:modelValue":a[0]||(a[0]=r=>e.SreadMargins=r)},null,8,["modelValue"])]),_:1})),[[w]]),S((s(),i(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:a[3]||(a[3]=r=>e.SreadScale=!e.SreadScale)},{default:o(()=>[t(c,null,{default:o(()=>[k("Page Scale")]),_:1}),t(g,{color:"blue",modelValue:e.SreadScale,"onUpdate:modelValue":a[2]||(a[2]=r=>e.SreadScale=r)},null,8,["modelValue"])]),_:1})),[[w]]),S((s(),i(d,{class:"row justify-between no-wrap items-center rounded-borders",clickable:"",onClick:a[5]||(a[5]=r=>e.sReadOffset=!e.sReadOffset)},{default:o(()=>[t(c,null,{default:o(()=>[k("Page Offset")]),_:1}),t(g,{color:"blue",modelValue:e.sReadOffset,"onUpdate:modelValue":a[4]||(a[4]=r=>e.sReadOffset=r)},null,8,["modelValue"])]),_:1})),[[w]]),t(z,{standout:"",label:"Reader Mode",modelValue:e.SReadModel,"onUpdate:modelValue":a[6]||(a[6]=r=>e.SReadModel=r),options:e.SReadoptions},null,8,["modelValue","options"])],64)}var H=D(N,[["render",E]]);const G=q({name:"chapterLayout",components:{leftDrawerVue:H},watch:{scrollbarTheme(e,a){document.body.classList.remove(a),document.body.classList.add(e)},$route(e,a){(e.params.mangaID!=a.params.mangaID||e.params.chapterID!=(parseInt(`${a.params.chapterID}`)+1).toString())&&this.$router.go(0)}},computed:{scrollbarTheme(){return this.$q.dark.isActive?"darkSB":"lightSB"}},mounted(){document.body.classList.add(this.scrollbarTheme),window.addEventListener("full-screen",e=>this.isFS(e))},unmounted(){document.body.classList.remove(this.scrollbarTheme)},created:function(){this.$q.dark.set(this.$q.localStorage.getItem("dark"))},methods:{toggledark(){this.$q.dark.toggle(),this.$q.localStorage.set("dark",this.$q.dark.isActive)},setTitle(e){this.title=e},minimize(){this.$q.platform.is.electron&&window.myWindowAPI.minimize()},toggleMaximize(){this.$q.platform.is.electron&&window.myWindowAPI.toggleMaximize()},closeApp(){this.$q.platform.is.electron&&window.myWindowAPI.close()},isFS(e){this.FS=e.detail}},setup(){const e=v("");return C(()=>({title:e.value,titleTemplate:a=>`${a} - Reading - Tachidesk Quasar `})),{leftDrawerOpen:v(!1),title:e,FS:v(!1)}}});function J(e,a,m,p,u,f){const r=$("leftDrawerVue"),V=$("router-view");return s(),i(R,{view:"hHh Lpr fFf"},{default:o(()=>[t(T,{elevated:"",style:h("background-color:"+(e.$q.dark.isActive?"var(--q-primaryD)":"var(--q-primary)"))},{default:o(()=>[e.$q.platform.is.electron?(s(),i(M,{key:0,class:y(["q-electron-drag",e.FS?"hidden":""])},{default:o(()=>[t(Q,{name:"img:favicon.ico",class:"q-electron-drag--exception"}),U("div",null,W(`${e.title} - Tachidesk Quasar`),1),t(O),t(l,{dense:"",flat:"",icon:"minimize",onClick:e.minimize,class:"q-electron-drag--exception"},null,8,["onClick"]),t(l,{dense:"",flat:"",icon:"crop_square",onClick:e.toggleMaximize,class:"q-electron-drag--exception"},null,8,["onClick"]),t(l,{dense:"",flat:"",icon:"close",onClick:e.closeApp,class:"q-electron-drag--exception"},null,8,["onClick"])]),_:1},8,["class"])):b("",!0)]),_:1},8,["style"]),t(I,{overlay:"",modelValue:e.leftDrawerOpen,"onUpdate:modelValue":a[2]||(a[2]=n=>e.leftDrawerOpen=n),elevated:"",class:"fixed",breakpoint:0,style:h("background-color:"+(e.$q.dark.isActive?"var(--q-secondaryD)":"var(--q-secondary)"))},{default:o(()=>[t(d,{class:"justify-between"},{default:o(()=>[t(l,{icon:"close",flat:"",round:"",onClick:a[0]||(a[0]=n=>e.leftDrawerOpen=!e.leftDrawerOpen)}),t(l,{icon:"arrow_back",flat:"",round:"",onClick:a[1]||(a[1]=n=>e.$router.go(-1))})]),_:1}),t(r)]),_:1},8,["modelValue","style"]),t(L,null,{default:o(()=>[t(V,{onSetTitle:e.setTitle,class:y(e.$q.dark.isActive?"dark-page":"white")},null,8,["onSetTitle","class"]),e.leftDrawerOpen?b("",!0):(s(),i(A,{key:0,position:"top-left",offset:[18,18],class:"fabb"},{default:o(()=>[t(l,{fab:"",icon:"menu",color:"primary",onClick:a[3]||(a[3]=n=>e.leftDrawerOpen=!e.leftDrawerOpen)})]),_:1}))]),_:1})]),_:1})}var Ce=D(G,[["render",J],["__scopeId","data-v-4f7cc6d4"]]);export{Ce as default};

import { P as Plugin } from "./index.75e4774b.js";
import { fetcher } from "./fetcher.d026f468.js";
function storeSet(key, data, set = null) {
  if (data == set)
    Plugin.remove(key);
  else
    Plugin.set(key, data);
}
async function getImgBlob(imgUrl) {
  const resp = await fetcher(imgUrl);
  if (resp.status == 200) {
    const blob = await resp.blob();
    const reader = new FileReader();
    reader.readAsDataURL(blob);
    return await new Promise((resolve) => {
      reader.onloadend = () => {
        resolve(reader.result);
      };
    });
  } else {
    return new Promise((resolve) => {
      resolve("");
    });
  }
}
export { getImgBlob as g, storeSet as s };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlZnVsbC41ZGE1Nzc5Yi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvZ2xvYmFsL3VzZWZ1bGwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoQykgQ29udHJpYnV0b3JzIHRvIHRoZSBTdXdheW9taSBwcm9qZWN0XG4gKlxuICogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHBzOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tICdxdWFzYXInO1xuaW1wb3J0IHsgZmV0Y2hlciB9IGZyb20gJ3NyYy9ib290L2ZldGNoZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVTZXQoXG4gIGtleTogc3RyaW5nLFxuICBkYXRhOiBudWxsIHwgdW5rbm93bixcbiAgc2V0OiB1bmtub3duID0gbnVsbFxuKTogdm9pZCB7XG4gIGlmIChkYXRhID09IHNldCkgTG9jYWxTdG9yYWdlLnJlbW92ZShrZXkpO1xuICBlbHNlIExvY2FsU3RvcmFnZS5zZXQoa2V5LCBkYXRhKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltZ0Jsb2IoaW1nVXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2hlcihpbWdVcmwpO1xuICBpZiAocmVzcC5zdGF0dXMgPT0gMjAwKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3AuYmxvYigpO1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICByZXNvbHZlKCcnKTtcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkxvY2FsU3RvcmFnZSJdLCJtYXBwaW5ncyI6Ijs7QUFTTyxTQUFTLFNBQ2QsS0FDQSxNQUNBLE1BQWUsTUFDVDtBQUNOLE1BQUksUUFBUTtBQUFLQSxXQUFhLE9BQU8sR0FBRztBQUFBO0FBQ3RCQSxXQUFBLElBQUksS0FBSyxJQUFJO0FBQ2pDO0FBRUEsZUFBc0IsV0FBVyxRQUFpQztBQUMxRCxRQUFBLE9BQU8sTUFBTSxRQUFRLE1BQU07QUFDN0IsTUFBQSxLQUFLLFVBQVUsS0FBSztBQUNoQixVQUFBLE9BQU8sTUFBTSxLQUFLO0FBQ2xCLFVBQUEsU0FBUyxJQUFJO0FBQ25CLFdBQU8sY0FBYyxJQUFJO0FBQ3pCLFdBQU8sTUFBTSxJQUFJLFFBQVEsQ0FBQyxZQUFZO0FBQ3BDLGFBQU8sWUFBWSxNQUFNO0FBQ3ZCLGdCQUFRLE9BQU8sTUFBZ0I7QUFBQSxNQUFBO0FBQUEsSUFDakMsQ0FDRDtBQUFBLEVBQUEsT0FDSTtBQUNFLFdBQUEsSUFBSSxRQUFRLENBQUMsWUFBWTtBQUM5QixjQUFRLEVBQUU7QUFBQSxJQUFBLENBQ1g7QUFBQSxFQUNIO0FBQ0Y7OyJ9

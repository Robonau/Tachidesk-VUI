import { r as ref, P as Plugin } from "./index.ba4ecd3b.js";
import { fetchJSON, fetcher } from "./fetcher.0bda8d6d.js";
const vue_RM = ref("RTL");
const vue_Paths = ref("RTL");
const vue_WT = ref(false);
const vue_Scale = ref(false);
const vue_Offset = ref(false);
const vue_title = ref("");
const pathVisable = ref(false);
function tobool(data) {
  return data == "true";
}
function chapterMeta(mangaID) {
  vue_RM.value = Plugin.getItem("vue_RM") || "RTL";
  vue_Paths.value = Plugin.getItem("vue_Paths") || "L";
  vue_WT.value = Plugin.getItem("vue_WT") || false;
  vue_Scale.value = Plugin.getItem("vue_Scale") || false;
  vue_Offset.value = Plugin.getItem("vue_Offset") || false;
  fetchJSON(`/api/v1/manga/${mangaID}`).then((manga2) => {
    vue_RM.value = manga2.meta.vue_RM ? manga2.meta.vue_RM : Plugin.getItem("vue_RM") || "RTL";
    vue_Paths.value = manga2.meta.vue_Paths ? manga2.meta.vue_Paths : Plugin.getItem("vue_Paths") || "L";
    vue_WT.value = manga2.meta.vue_WT ? tobool(manga2.meta.vue_WT) : Plugin.getItem("vue_WT") || false;
    vue_Scale.value = manga2.meta.vue_Scale ? tobool(manga2.meta.vue_Scale) : Plugin.getItem("vue_Scale") || false;
    vue_Offset.value = manga2.meta.vue_Offset ? tobool(manga2.meta.vue_Offset) : Plugin.getItem("vue_Offset") || false;
    vue_title.value = manga2.title;
  });
  function setRM(data) {
    vue_RM.value = data;
    setFormData("vue_RM", data);
  }
  function setPaths(data) {
    vue_Paths.value = data;
    setFormData("vue_Paths", data);
  }
  function setWT(data) {
    vue_WT.value = data;
    setFormData("vue_WT", `${data}`);
  }
  function setScale(data) {
    vue_Scale.value = data;
    setFormData("vue_Scale", `${data}`);
  }
  function setOffset(data) {
    vue_Offset.value = data;
    setFormData("vue_Offset", `${data}`);
  }
  function setFormData(key, data) {
    const fd = new FormData();
    fd.append("key", key);
    fd.append("value", data);
    fetcher(`/api/v1/manga/${mangaID}/meta`, {
      method: "PATCH",
      body: fd
    });
  }
  function toggPath() {
    pathVisable.value = !pathVisable.value;
  }
  return {
    vue_RM,
    vue_Paths,
    pathVisable,
    vue_WT,
    vue_Scale,
    vue_Offset,
    vue_title,
    setRM,
    setPaths,
    toggPath,
    setWT,
    setScale,
    setOffset
  };
}
export { chapterMeta as c };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhZGVyU2V0dGluZ3MuNTg4NzI3NDAuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3JlYWRlci9yZWFkZXJTZXR0aW5ncy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChDKSBDb250cmlidXRvcnMgdG8gdGhlIFN1d2F5b21pIHByb2plY3RcbiAqXG4gKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cbmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBtYW5nYSB9IGZyb20gJy4uL2dsb2JhbC9tb2RlbHMnO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSAncXVhc2FyJztcbmltcG9ydCB7IGZldGNoZXIsIGZldGNoSlNPTiB9IGZyb20gJ3NyYy9ib290L2ZldGNoZXInO1xuaW1wb3J0IHsgcGF0aHMgfSBmcm9tICdzcmMvY29tcG9uZW50cy9nbG9iYWwvbW9kZWxzJztcblxuY29uc3QgdnVlX1JNID0gcmVmKDxzdHJpbmc+J1JUTCcpO1xuY29uc3QgdnVlX1BhdGhzID0gcmVmKDxrZXlvZiBwYXRocz4nUlRMJyk7XG5jb25zdCB2dWVfV1QgPSByZWYoPGJvb2xlYW4+ZmFsc2UpO1xuY29uc3QgdnVlX1NjYWxlID0gcmVmKDxib29sZWFuPmZhbHNlKTtcbmNvbnN0IHZ1ZV9PZmZzZXQgPSByZWYoPGJvb2xlYW4+ZmFsc2UpO1xuY29uc3QgdnVlX3RpdGxlID0gcmVmKDxzdHJpbmc+JycpO1xuY29uc3QgcGF0aFZpc2FibGUgPSByZWYoPGJvb2xlYW4+ZmFsc2UpO1xuXG5mdW5jdGlvbiB0b2Jvb2woZGF0YTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBkYXRhID09ICd0cnVlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXB0ZXJNZXRhKG1hbmdhSUQ6IG51bWJlcikge1xuICB2dWVfUk0udmFsdWUgPSAoTG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Z1ZV9STScpIHx8ICdSVEwnKSBhcyBzdHJpbmc7XG4gIHZ1ZV9QYXRocy52YWx1ZSA9IChMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlX1BhdGhzJykgfHwgJ0wnKSBhcyBrZXlvZiBwYXRocztcbiAgdnVlX1dULnZhbHVlID0gKExvY2FsU3RvcmFnZS5nZXRJdGVtKCd2dWVfV1QnKSB8fCBmYWxzZSkgYXMgYm9vbGVhbjtcbiAgdnVlX1NjYWxlLnZhbHVlID0gKExvY2FsU3RvcmFnZS5nZXRJdGVtKCd2dWVfU2NhbGUnKSB8fCBmYWxzZSkgYXMgYm9vbGVhbjtcbiAgdnVlX09mZnNldC52YWx1ZSA9IChMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlX09mZnNldCcpIHx8IGZhbHNlKSBhcyBib29sZWFuO1xuICBmZXRjaEpTT04oYC9hcGkvdjEvbWFuZ2EvJHttYW5nYUlEfWApLnRoZW4oKG1hbmdhOiBtYW5nYSk6IHZvaWQgPT4ge1xuICAgIHZ1ZV9STS52YWx1ZSA9IG1hbmdhLm1ldGEudnVlX1JNXG4gICAgICA/IG1hbmdhLm1ldGEudnVlX1JNXG4gICAgICA6ICgoTG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Z1ZV9STScpIHx8ICdSVEwnKSBhcyBzdHJpbmcpO1xuICAgIHZ1ZV9QYXRocy52YWx1ZSA9IG1hbmdhLm1ldGEudnVlX1BhdGhzXG4gICAgICA/IG1hbmdhLm1ldGEudnVlX1BhdGhzXG4gICAgICA6ICgoTG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Z1ZV9QYXRocycpIHx8ICdMJykgYXMga2V5b2YgcGF0aHMpO1xuICAgIHZ1ZV9XVC52YWx1ZSA9IG1hbmdhLm1ldGEudnVlX1dUXG4gICAgICA/IHRvYm9vbChtYW5nYS5tZXRhLnZ1ZV9XVClcbiAgICAgIDogKChMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlX1dUJykgfHwgZmFsc2UpIGFzIGJvb2xlYW4pO1xuICAgIHZ1ZV9TY2FsZS52YWx1ZSA9IG1hbmdhLm1ldGEudnVlX1NjYWxlXG4gICAgICA/IHRvYm9vbChtYW5nYS5tZXRhLnZ1ZV9TY2FsZSlcbiAgICAgIDogKChMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlX1NjYWxlJykgfHwgZmFsc2UpIGFzIGJvb2xlYW4pO1xuICAgIHZ1ZV9PZmZzZXQudmFsdWUgPSBtYW5nYS5tZXRhLnZ1ZV9PZmZzZXRcbiAgICAgID8gdG9ib29sKG1hbmdhLm1ldGEudnVlX09mZnNldClcbiAgICAgIDogKChMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlX09mZnNldCcpIHx8IGZhbHNlKSBhcyBib29sZWFuKTtcbiAgICB2dWVfdGl0bGUudmFsdWUgPSBtYW5nYS50aXRsZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2V0Uk0oZGF0YTogc3RyaW5nKSB7XG4gICAgdnVlX1JNLnZhbHVlID0gZGF0YTtcbiAgICBzZXRGb3JtRGF0YSgndnVlX1JNJywgZGF0YSk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0UGF0aHMoZGF0YToga2V5b2YgcGF0aHMpIHtcbiAgICB2dWVfUGF0aHMudmFsdWUgPSBkYXRhO1xuICAgIHNldEZvcm1EYXRhKCd2dWVfUGF0aHMnLCBkYXRhKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRXVChkYXRhOiBib29sZWFuKSB7XG4gICAgdnVlX1dULnZhbHVlID0gZGF0YTtcbiAgICBzZXRGb3JtRGF0YSgndnVlX1dUJywgYCR7ZGF0YX1gKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRTY2FsZShkYXRhOiBib29sZWFuKSB7XG4gICAgdnVlX1NjYWxlLnZhbHVlID0gZGF0YTtcbiAgICBzZXRGb3JtRGF0YSgndnVlX1NjYWxlJywgYCR7ZGF0YX1gKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRPZmZzZXQoZGF0YTogYm9vbGVhbikge1xuICAgIHZ1ZV9PZmZzZXQudmFsdWUgPSBkYXRhO1xuICAgIHNldEZvcm1EYXRhKCd2dWVfT2Zmc2V0JywgYCR7ZGF0YX1gKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEZvcm1EYXRhKGtleTogc3RyaW5nLCBkYXRhOiBzdHJpbmcpIHtcbiAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZkLmFwcGVuZCgna2V5Jywga2V5KTtcbiAgICBmZC5hcHBlbmQoJ3ZhbHVlJywgZGF0YSk7XG4gICAgZmV0Y2hlcihgL2FwaS92MS9tYW5nYS8ke21hbmdhSUR9L21ldGFgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBib2R5OiBmZFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ1BhdGgoKSB7XG4gICAgcGF0aFZpc2FibGUudmFsdWUgPSAhcGF0aFZpc2FibGUudmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZ1ZV9STSxcbiAgICB2dWVfUGF0aHMsXG4gICAgcGF0aFZpc2FibGUsXG4gICAgdnVlX1dULFxuICAgIHZ1ZV9TY2FsZSxcbiAgICB2dWVfT2Zmc2V0LFxuICAgIHZ1ZV90aXRsZSxcbiAgICBzZXRSTSxcbiAgICBzZXRQYXRocyxcbiAgICB0b2dnUGF0aCxcbiAgICBzZXRXVCxcbiAgICBzZXRTY2FsZSxcbiAgICBzZXRPZmZzZXRcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJMb2NhbFN0b3JhZ2UiLCJtYW5nYSJdLCJtYXBwaW5ncyI6Ijs7QUFZQSxNQUFNLFNBQVMsSUFBWSxLQUFLO0FBQ2hDLE1BQU0sWUFBWSxJQUFpQixLQUFLO0FBQ3hDLE1BQU0sU0FBUyxJQUFhLEtBQUs7QUFDakMsTUFBTSxZQUFZLElBQWEsS0FBSztBQUNwQyxNQUFNLGFBQWEsSUFBYSxLQUFLO0FBQ3JDLE1BQU0sWUFBWSxJQUFZLEVBQUU7QUFDaEMsTUFBTSxjQUFjLElBQWEsS0FBSztBQUV0QyxTQUFTLE9BQU8sTUFBdUI7QUFDckMsU0FBTyxRQUFRO0FBQ2pCO0FBRU8sU0FBUyxZQUFZLFNBQWlCO0FBQzNDLFNBQU8sUUFBU0EsT0FBYSxRQUFRLFFBQVEsS0FBSztBQUNsRCxZQUFVLFFBQVNBLE9BQWEsUUFBUSxXQUFXLEtBQUs7QUFDeEQsU0FBTyxRQUFTQSxPQUFhLFFBQVEsUUFBUSxLQUFLO0FBQ2xELFlBQVUsUUFBU0EsT0FBYSxRQUFRLFdBQVcsS0FBSztBQUN4RCxhQUFXLFFBQVNBLE9BQWEsUUFBUSxZQUFZLEtBQUs7QUFDMUQsWUFBVSxpQkFBaUIsU0FBUyxFQUFFLEtBQUssQ0FBQ0MsV0FBdUI7QUFDMUQsV0FBQSxRQUFRQSxPQUFNLEtBQUssU0FDdEJBLE9BQU0sS0FBSyxTQUNURCxPQUFhLFFBQVEsUUFBUSxLQUFLO0FBQzlCLGNBQUEsUUFBUUMsT0FBTSxLQUFLLFlBQ3pCQSxPQUFNLEtBQUssWUFDVEQsT0FBYSxRQUFRLFdBQVcsS0FBSztBQUMzQyxXQUFPLFFBQVFDLE9BQU0sS0FBSyxTQUN0QixPQUFPQSxPQUFNLEtBQUssTUFBTSxJQUN0QkQsT0FBYSxRQUFRLFFBQVEsS0FBSztBQUN4QyxjQUFVLFFBQVFDLE9BQU0sS0FBSyxZQUN6QixPQUFPQSxPQUFNLEtBQUssU0FBUyxJQUN6QkQsT0FBYSxRQUFRLFdBQVcsS0FBSztBQUMzQyxlQUFXLFFBQVFDLE9BQU0sS0FBSyxhQUMxQixPQUFPQSxPQUFNLEtBQUssVUFBVSxJQUMxQkQsT0FBYSxRQUFRLFlBQVksS0FBSztBQUM1QyxjQUFVLFFBQVFDLE9BQU07QUFBQSxFQUFBLENBQ3pCO0FBRUQsV0FBUyxNQUFNLE1BQWM7QUFDM0IsV0FBTyxRQUFRO0FBQ2YsZ0JBQVksVUFBVSxJQUFJO0FBQUEsRUFDNUI7QUFDQSxXQUFTLFNBQVMsTUFBbUI7QUFDbkMsY0FBVSxRQUFRO0FBQ2xCLGdCQUFZLGFBQWEsSUFBSTtBQUFBLEVBQy9CO0FBQ0EsV0FBUyxNQUFNLE1BQWU7QUFDNUIsV0FBTyxRQUFRO0FBQ0gsZ0JBQUEsVUFBVSxHQUFHLE1BQU07QUFBQSxFQUNqQztBQUNBLFdBQVMsU0FBUyxNQUFlO0FBQy9CLGNBQVUsUUFBUTtBQUNOLGdCQUFBLGFBQWEsR0FBRyxNQUFNO0FBQUEsRUFDcEM7QUFDQSxXQUFTLFVBQVUsTUFBZTtBQUNoQyxlQUFXLFFBQVE7QUFDUCxnQkFBQSxjQUFjLEdBQUcsTUFBTTtBQUFBLEVBQ3JDO0FBRVMsV0FBQSxZQUFZLEtBQWEsTUFBYztBQUN4QyxVQUFBLEtBQUssSUFBSTtBQUNaLE9BQUEsT0FBTyxPQUFPLEdBQUc7QUFDakIsT0FBQSxPQUFPLFNBQVMsSUFBSTtBQUN2QixZQUFRLGlCQUFpQixnQkFBZ0I7QUFBQSxNQUN2QyxRQUFRO0FBQUEsTUFDUixNQUFNO0FBQUEsSUFBQSxDQUNQO0FBQUEsRUFDSDtBQUVBLFdBQVMsV0FBVztBQUNOLGdCQUFBLFFBQVEsQ0FBQyxZQUFZO0FBQUEsRUFDbkM7QUFFTyxTQUFBO0FBQUEsSUFDTDtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQUE7QUFFSjs7In0=

import{Q as l}from"./QTooltip.b9c953ce.js";import{Q as p}from"./QBtn.c248b476.js";import{Q as _}from"./QCardSection.42fc0f1a.js";import{Q as B}from"./QSeparator.8126d6b7.js";import{Q as y}from"./QCard.70ae0f07.js";import{Q as V}from"./QDialog.476c5919.js";import{Q as C}from"./QToggle.6707944d.js";import{Q as q}from"./QItem.624de6a8.js";import{f as c,r as i,_ as f,j as s,k as $,m as a,n as e,y as m,F as d,u as b,q as u,z as D,v as N}from"./index.b35b6c87.js";import"./position-engine.0d3d3347.js";import"./selection.01e1b310.js";import"./scroll.fbb25234.js";import"./dom.4a68f118.js";import"./use-timeout.4812ac2b.js";import"./use-transition.6c02567b.js";import"./QSpinner.cedf2831.js";import"./QIcon.ac005315.js";import"./Ripple.5f8954d8.js";import"./use-dark.1516cb7d.js";import"./focus-manager.32f8d49a.js";import"./use-checkbox.679430af.js";import"./option-sizes.72a65bda.js";import"./use-form.d75ed6a7.js";const S=c({props:{sele:{type:Boolean,required:!0},cat:{type:Object,required:!0}},watch:{incat(){this.incat?this.$fetch(`/api/v1/manga/${this.$route.params.mangaID}/category/${this.cat.id}`):this.$fetch(`/api/v1/manga/${this.$route.params.mangaID}/category/${this.cat.id}`,{method:"DELETE"})}},setup(t){return{incat:i(t.sele)}}});function T(t,o,h,g,Q,v){return s(),$(q,null,{default:a(()=>[e(C,{modelValue:t.incat,"onUpdate:modelValue":o[0]||(o[0]=n=>t.incat=n),label:t.cat.name},null,8,["modelValue","label"])]),_:1})}var w=f(S,[["render",T]]);const E=c({name:"mangaTopBar",components:{topBcat:w},methods:{update(){this.$bus.emit("updateManga")}},mounted:function(){this.$fetchJSON("/api/v1/category/").then(t=>{this.options=t.slice(1)}),this.$fetchJSON(`/api/v1/manga/${this.$route.params.mangaID}/category/`).then(t=>{this.curr=t})},setup(){return{dialo:i(!1),options:i([]),curr:i([]),disp:i([])}}}),I=N("div",{class:"text-h5"},"Set categories",-1);function O(t,o,h,g,Q,v){const n=b("topBcat");return s(),m(d,null,[e(p,{flat:"",class:"q-ml-sm",round:"","text-color":t.$q.dark.isActive?"white":"dark",icon:"filter_list",onClick:o[0]||(o[0]=r=>t.dialo=!0)},{default:a(()=>[e(l,null,{default:a(()=>[u(" set category ")]),_:1})]),_:1},8,["text-color"]),e(V,{modelValue:t.dialo,"onUpdate:modelValue":o[1]||(o[1]=r=>t.dialo=r)},{default:a(()=>[e(y,null,{default:a(()=>[e(_,{class:"q-px-xl"},{default:a(()=>[I]),_:1}),e(B),(s(!0),m(d,null,D(t.options,r=>(s(),$(n,{key:r.id,sele:t.curr.find(k=>k.id==r.id)!=null,cat:r},null,8,["sele","cat"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(p,{flat:"",round:"","text-color":t.$q.dark.isActive?"white":"dark",icon:"refresh",onClick:t.update},{default:a(()=>[e(l,null,{default:a(()=>[u(" Update Manga ")]),_:1})]),_:1},8,["text-color","onClick"])],64)}var it=f(E,[["render",O]]);export{it as default};

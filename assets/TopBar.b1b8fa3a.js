import{Q as n}from"./QTooltip.b9c953ce.js";import{Q as r}from"./QBtn.c248b476.js";import{Q as w}from"./QCheckbox.f31e7731.js";import{Q}from"./QCardSection.42fc0f1a.js";import{Q as S}from"./QCardActions.ed0a9806.js";import{Q as $}from"./QCard.70ae0f07.js";import{Q as g}from"./QDialog.476c5919.js";import{C as p}from"./ClosePopup.57ec600b.js";import{u as P}from"./useDlSock.1a59372d.js";import{p as u}from"./models.4021c4b7.js";import{_ as q,f as V,r as i,j as f,y as c,n as o,m as a,F as v,q as m,z as D,D as k,t as C,v as F}from"./index.b35b6c87.js";import"./position-engine.0d3d3347.js";import"./selection.01e1b310.js";import"./scroll.fbb25234.js";import"./dom.4a68f118.js";import"./use-timeout.4812ac2b.js";import"./use-transition.6c02567b.js";import"./QSpinner.cedf2831.js";import"./QIcon.ac005315.js";import"./Ripple.5f8954d8.js";import"./use-checkbox.679430af.js";import"./use-dark.1516cb7d.js";import"./option-sizes.72a65bda.js";import"./use-form.d75ed6a7.js";import"./focus-manager.32f8d49a.js";const A=V({name:"SearchBar",methods:{toggleplay(){this.PlayPause?this.$fetch("/api/v1/downloads/stop"):this.$fetch("/api/v1/downloads/start")},clear(){this.$fetch("/api/v1/downloads/clear")},dofilter(){this.$bus.emit("DLFilter",this.filter)}},watch:{"Emitter.eventsFromServer"(e){const t=JSON.parse(e);u(t)&&(this.PlayPause=t.status=="Started")}},setup(){const e=P(),t=i(e),s=i(),d=e.eventsFromServer.value?JSON.parse(e.eventsFromServer.value):[];return u(d)&&(s.value=d.status=="Started"),t.value.isConnected&&e.sendMsg("STATUS"),{dialo:i(!1),filter:i([]),PlayPause:s,Emitter:t}}}),B={style:{"margin-right":"12.5px"}};function N(e,t,s,d,T,b){return f(),c(v,null,[o(r,{class:"q-ml-sm",round:"","text-color":e.$q.dark.isActive?"white":"dark",icon:"filter_list",onClick:t[0]||(t[0]=l=>e.dialo=!0)},{default:a(()=>[o(n,null,{default:a(()=>[m("Filter")]),_:1})]),_:1},8,["text-color"]),o(g,{modelValue:e.dialo,"onUpdate:modelValue":t[3]||(t[3]=l=>e.dialo=l)},{default:a(()=>[o($,{class:"q-pa-md"},{default:a(()=>[(f(),c(v,null,D(["Downloading","Queued","finished"],(l,h)=>o(Q,{key:h,class:"q-py-xs"},{default:a(()=>[o(w,{style:{width:"100%"},modelValue:e.filter,"onUpdate:modelValue":t[1]||(t[1]=y=>e.filter=y),dark:e.$q.dark.isActive,val:l},{default:a(()=>[F("div",B,C(l),1)]),_:2},1032,["modelValue","dark","val"])]),_:2},1024)),64)),o(S,{align:"center"},{default:a(()=>[k(o(r,{flat:"",label:"clear",color:"primary",onClick:t[2]||(t[2]=l=>{e.filter=[],e.dofilter()})},null,512),[[p]]),k(o(r,{flat:"",label:"Save",color:"primary",onClick:e.dofilter},null,8,["onClick"]),[[p]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(r,{elevated:"",class:"q-ml-sm",round:"","text-color":e.$q.dark.isActive?"white":"dark",icon:"clear_all",onClick:e.clear},{default:a(()=>[o(n,null,{default:a(()=>[m(" Clear all downloads ")]),_:1})]),_:1},8,["text-color","onClick"]),o(r,{elevated:"",class:"q-ml-sm",round:"","text-color":e.$q.dark.isActive?"white":"dark",icon:e.PlayPause?"pause":"play_arrow",onClick:e.toggleplay},{default:a(()=>[o(n,null,{default:a(()=>[m(C(e.PlayPause?"stop downloads":"start downloads"),1)]),_:1})]),_:1},8,["text-color","icon","onClick"])],64)}var ie=q(A,[["render",N]]);export{ie as default};

import{Q as P}from"./QList.53b7cd17.js";import{a as i,Q as k}from"./QItemLabel.f084a15e.js";import{Q as D}from"./QToggle.6707944d.js";import{Q as m}from"./QItem.624de6a8.js";import{Q as h}from"./QCheckbox.f31e7731.js";import{Q}from"./QCard.70ae0f07.js";import{Q as b}from"./QDialog.476c5919.js";import{Q as j}from"./QInput.a9b5ac3c.js";import{Q as E}from"./QBtn.c248b476.js";import{Q as J}from"./QCardActions.ed0a9806.js";import{Q as R}from"./QRadio.56d92015.js";import{R as y}from"./Ripple.5f8954d8.js";import{C as A}from"./ClosePopup.57ec600b.js";import{k as w,l as S,m as T,n as N,o as F}from"./models.4021c4b7.js";import{f as q,r as v,_ as B,j as o,y as g,D as V,k as n,m as r,n as t,q as p,t as s,p as d,v as U,F as $,z as C,u as G}from"./index.b35b6c87.js";import"./QSpinner.cedf2831.js";import"./use-dark.1516cb7d.js";import"./QIcon.ac005315.js";import"./use-checkbox.679430af.js";import"./option-sizes.72a65bda.js";import"./use-form.d75ed6a7.js";import"./use-timeout.4812ac2b.js";import"./scroll.fbb25234.js";import"./dom.4a68f118.js";import"./use-transition.6c02567b.js";import"./focus-manager.32f8d49a.js";import"./use-key-composition.a9714931.js";import"./uid.42677368.js";const M=q({name:"whatIs",props:{preference:{type:Object,required:!0},position:{type:Number,required:!0}},emits:["getPrefs"],methods:{saveText(){let e;typeof this.val=="object"?e=JSON.stringify(this.val):e=this.val.toString(),this.$fetch(`/api/v1/source/${this.$route.params.sourceID}/preferences`,{method:"POST",body:JSON.stringify({position:this.position,value:e})}).then(()=>{this.$emit("getPrefs")})}},watch:{val(){this.isEditTextPreference(this.preference)||this.saveText()}},setup(e){const l=v(!1);let u;return w(e.preference)?u=v(e.preference.props.currentValue):S(e.preference)?u=v(e.preference.props.currentValue):T(e.preference)?u=v(e.preference.props.currentValue):N(e.preference)?u=v(e.preference.props.currentValue):u=v(e.preference.props.currentValue),{dialog:l,val:u,isCheckBoxPreference:w,isEditTextPreference:S,isMultiSelectListPreference:T,isSwitchPreferenceCompat:N,isListPreference:F}}}),z={class:"text-h5"},K={class:"text-h5"};function H(e,l,u,I,L,O){return o(),g($,null,[e.isSwitchPreferenceCompat(e.preference)?V((o(),n(m,{key:0,clickable:"",onClick:l[1]||(l[1]=a=>e.val=!e.val),class:"row justify-between"},{default:r(()=>[t(k,null,{default:r(()=>[t(i,null,{default:r(()=>[p(s(e.preference.props.title),1)]),_:1}),t(i,{caption:""},{default:r(()=>[p(s(e.preference.props.summary),1)]),_:1})]),_:1}),t(D,{color:"blue",modelValue:e.val,"onUpdate:modelValue":l[0]||(l[0]=a=>e.val=a)},null,8,["modelValue"])]),_:1})),[[y]]):d("",!0),e.isCheckBoxPreference(e.preference)?V((o(),n(m,{key:1,clickable:"",onClick:l[3]||(l[3]=a=>e.val=!e.val),class:"row justify-between"},{default:r(()=>[t(k,null,{default:r(()=>[t(i,null,{default:r(()=>[p(s(e.preference.props.title),1)]),_:1}),t(i,{caption:""},{default:r(()=>[p(s(e.preference.props.summary),1)]),_:1})]),_:1}),t(h,{color:"blue",modelValue:e.val,"onUpdate:modelValue":l[2]||(l[2]=a=>e.val=a)},null,8,["modelValue"])]),_:1})),[[y]]):d("",!0),e.isMultiSelectListPreference(e.preference)?V((o(),n(m,{key:2,clickable:"",onClick:l[6]||(l[6]=a=>e.dialog=!0)},{default:r(()=>[t(k,null,{default:r(()=>[t(i,null,{default:r(()=>[p(s(e.preference.props.title),1)]),_:1}),t(i,{caption:""},{default:r(()=>[p(s(e.preference.props.summary),1)]),_:1})]),_:1}),t(b,{modelValue:e.dialog,"onUpdate:modelValue":l[5]||(l[5]=a=>e.dialog=a)},{default:r(()=>[t(Q,{class:"q-pa-md"},{default:r(()=>[t(P,null,{default:r(()=>[U("div",z,s(e.preference.props.title),1),(o(!0),g($,null,C(e.preference.props.entries,(a,f)=>(o(),n(m,{key:f},{default:r(()=>[t(h,{modelValue:e.val,"onUpdate:modelValue":l[4]||(l[4]=c=>e.val=c),val:e.preference.props.entryValues[f],label:a,color:"blue"},null,8,["modelValue","val","label"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),[[y]]):d("",!0),e.isEditTextPreference(e.preference)?V((o(),n(m,{key:3,clickable:"",onClick:l[9]||(l[9]=a=>e.dialog=!0)},{default:r(()=>[t(k,null,{default:r(()=>[t(i,null,{default:r(()=>[p(s(e.preference.props.title),1)]),_:1}),t(i,{caption:""},{default:r(()=>[p(s(e.preference.props.summary),1)]),_:1})]),_:1}),t(b,{modelValue:e.dialog,"onUpdate:modelValue":l[8]||(l[8]=a=>e.dialog=a)},{default:r(()=>[t(Q,{class:"q-pa-md"},{default:r(()=>[typeof e.val=="string"?(o(),n(j,{key:0,outlined:"",modelValue:e.val,"onUpdate:modelValue":l[7]||(l[7]=a=>e.val=a)},null,8,["modelValue"])):d("",!0),t(J,{align:"right"},{default:r(()=>[V(t(E,{flat:"",label:"OK",color:"primary",onClick:e.saveText},null,8,["onClick"]),[[A]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),[[y]]):d("",!0),e.isListPreference(e.preference)?V((o(),n(m,{key:4,clickable:"",onClick:l[12]||(l[12]=a=>e.dialog=!0)},{default:r(()=>[t(k,null,{default:r(()=>[t(i,null,{default:r(()=>[p(s(e.preference.props.title),1)]),_:1}),t(i,{caption:""},{default:r(()=>[p(s(e.preference.props.summary.replace("%s",e.preference.props.entries[e.preference.props.entryValues.indexOf(e.preference.props.currentValue)]||"")),1)]),_:1})]),_:1}),t(b,{modelValue:e.dialog,"onUpdate:modelValue":l[11]||(l[11]=a=>e.dialog=a)},{default:r(()=>[t(Q,{class:"q-pa-md"},{default:r(()=>[t(P,null,{default:r(()=>[U("div",K,s(e.preference.props.title),1),(o(!0),g($,null,C(e.preference.props.entries,(a,f)=>(o(),n(m,{key:f},{default:r(()=>[typeof e.val=="string"?(o(),n(R,{key:0,modelValue:e.val,"onUpdate:modelValue":l[10]||(l[10]=c=>e.val=c),val:e.preference.props.entryValues[f],label:a,color:"blue"},null,8,["modelValue","val","label"])):d("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),[[y]]):d("",!0)],64)}var W=B(M,[["render",H]]);const X=q({name:"settingsPage",components:{whatis:W},methods:{myTweak(e){return{height:e?`calc(100vh - ${e}px)`:"100vh"}},getPrefs(){this.$fetchJSON(`/api/v1/source/${this.$route.params.sourceID}/preferences`).then(e=>this.preferences=e)}},watch:{},created:function(){this.getPrefs()},setup(){return{preferences:v([])}}});function Y(e,l,u,I,L,O){const a=G("whatis");return o(),n(P,{separator:"",dark:!!e.$q.dark.isActive,"style-fn":e.myTweak},{default:r(()=>[(o(!0),g($,null,C(e.preferences,(f,c)=>(o(),n(a,{preference:f,key:c,position:c,onGetPrefs:e.getPrefs},null,8,["preference","position","onGetPrefs"]))),128))]),_:1},8,["dark","style-fn"])}var he=B(X,[["render",Y]]);export{he as default};
